# Системный монитор

Простое веб-приложение для мониторинга базовой системной статистики с использованием Flask и Redis.

## Функциональность

- **Счетчик запросов** - отслеживает общее количество обращений к приложению
- **Время работы** - показывает сколько секунд работает приложение  
- **Health-check** - эндпоинт для проверки статуса приложения
- **Автообновление данных** - статистика обновляется при каждом запросе

## Технологии

- Python 3.9
- Flask - веб-фреймворк
- Redis - хранилище данных
- Docker - контейнеризация
- Docker Compose - оркестрация

## Запуск приложения (Docker Compose)

1. Запустите команду:
   ```bash
   docker-compose up -d
   ```

2. Остановка
    ```bash
    docker-compose down
    ```

## Запуск приложения (Docker Swarm)

1. Инициализируем Swarm (если первый раз)
    ```bash
    docker swarm init
    ```

2. Сборка образа
    ```bash
    docker build -t lab1-front:latest .
    ```

3. Запуск stack
    ```bash
    docker stack deploy -c stack.yml lab1-app
    ```

4. Проверка работоспособности
    ```bash
    docker stack services lab1-app
    ```

5. Остановка
    ```bash
    docker stack rm lab1-app
    ```

### Приложение будет доступно по адресу: http://localhost:15000

## Доступные эндпоинты

- `GET /` - главная страница с системной статистикой
- `GET /health` - проверка работоспособности приложения

## Структура проекта

```
project/
├── app.py              # Основной код приложения
├── requirements.txt    # Зависимости Python
├── Dockerfile          # Конфигурация Docker
├── docker-compose.yml  # Конфигурация Docker Compose
├── README.md           # Документация
└── stack.yml           # Конфигурация файл для Docker Swarm
```

## Примечания

- Данные счетчика запросов сохраняются в Redis и сохраняются при перезапуске контейнеров
- Время работы отсчитывается с момента запуска приложения
- Приложение автоматически переподключается к Redis при восстановлении соединения
